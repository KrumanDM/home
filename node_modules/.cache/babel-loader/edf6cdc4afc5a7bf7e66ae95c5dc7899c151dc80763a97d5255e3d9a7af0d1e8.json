{"ast":null,"code":"import _objectSpread from\"C:/Users/User/Documents/home/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/User/Documents/home/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectWithoutProperties from\"C:/Users/User/Documents/home/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"onChangeText\",\"onDebouncedChange\"];import React,{useState}from'react';import SuperInputText from'../../../hw04/common/c1-SuperInputText/SuperInputText';// тип пропсов обычного инпута\nimport{jsx as _jsx}from\"react/jsx-runtime\";var SuperDebouncedInput=function SuperDebouncedInput(_ref){var onChangeText=_ref.onChangeText,onDebouncedChange=_ref.onDebouncedChange,restProps=_objectWithoutProperties(_ref,_excluded);var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),timerId=_useState2[0],setTimerId=_useState2[1];var onChangeTextCallback=function onChangeTextCallback(value){onChangeText===null||onChangeText===void 0?void 0:onChangeText(value);if(onDebouncedChange){// делает студент\n// остановить предыдущий таймер\n// запустить новый на 1500ms, в котором вызовется функция\nif(timerId){clearTimeout(timerId);// Остановит таймер \n}var newTimerId=window.setTimeout(function(){// Use window.setTimeout here\nonDebouncedChange(value);// call the function after 1500ms\n},1500);setTimerId(newTimerId);// start a new timer\n}};return/*#__PURE__*/_jsx(SuperInputText,_objectSpread({onChangeText:onChangeTextCallback},restProps));};export default SuperDebouncedInput;","map":{"version":3,"names":["React","useState","SuperInputText","SuperDebouncedInput","onChangeText","onDebouncedChange","restProps","undefined","timerId","setTimerId","onChangeTextCallback","value","clearTimeout","newTimerId","window","setTimeout"],"sources":["C:/Users/User/Documents/home/src/s2-homeworks/hw14/common/c8-SuperDebouncedInput/SuperDebouncedInput.tsx"],"sourcesContent":["import React, {DetailedHTMLProps, InputHTMLAttributes, ReactNode, useState} from 'react'\nimport SuperInputText from '../../../hw04/common/c1-SuperInputText/SuperInputText'\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>,\n    HTMLInputElement>\n\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута, кроме type\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\nexport type SuperDebouncedInputPropsType = Omit<DefaultInputPropsType, 'type'> & {\n    // и + ещё пропсы которых нет в стандартном инпуте\n    onChangeText?: (value: string) => void\n    onEnter?: () => void\n    error?: ReactNode\n    spanClassName?: string\n} // илм экспортировать тип SuperInputTextPropsType\n    & { // плюс специальный пропс SuperPagination\n    onDebouncedChange?: (value: string) => void\n}\n\nconst SuperDebouncedInput: React.FC<SuperDebouncedInputPropsType> = (\n    {\n        onChangeText,\n        onDebouncedChange,\n\n        ...restProps // все остальные пропсы попадут в объект restProps\n    }\n) => {\n    const [timerId, setTimerId] = useState<number | undefined>(undefined)\n\n    const onChangeTextCallback = (value: string) => {\n        onChangeText?.(value)\n\n        if (onDebouncedChange) {\n            // делает студент\n\n            // остановить предыдущий таймер\n            // запустить новый на 1500ms, в котором вызовется функция\n\n            if (timerId) {\n                clearTimeout(timerId) // Остановит таймер \n            }\n    \n            const newTimerId = window.setTimeout(() => { // Use window.setTimeout here\n                onDebouncedChange(value) // call the function after 1500ms\n            }, 1500)\n    \n            setTimerId(newTimerId) // start a new timer\n        }\n        \n    }\n    \n            \n        \n    \n\n    return (\n        <SuperInputText onChangeText={onChangeTextCallback} {...restProps}/>\n    )\n}\n\nexport default SuperDebouncedInput\n"],"mappings":"4ZAAA,MAAOA,MAAK,EAAsDC,QAAQ,KAAO,OAAO,CACxF,MAAOC,eAAc,KAAM,uDAAuD,CAElF;AAAA,2CAiBA,GAAMC,oBAA2D,CAAG,QAA9DA,oBAA2D,MAO5D,IALGC,aAAY,MAAZA,YAAY,CACZC,iBAAiB,MAAjBA,iBAAiB,CAEdC,SAAS,0CAGhB,cAA8BL,QAAQ,CAAqBM,SAAS,CAAC,wCAA9DC,OAAO,eAAEC,UAAU,eAE1B,GAAMC,qBAAoB,CAAG,QAAvBA,qBAAoB,CAAIC,KAAa,CAAK,CAC5CP,YAAY,SAAZA,YAAY,iBAAZA,YAAY,CAAGO,KAAK,CAAC,CAErB,GAAIN,iBAAiB,CAAE,CACnB;AAEA;AACA;AAEA,GAAIG,OAAO,CAAE,CACTI,YAAY,CAACJ,OAAO,CAAC,CAAC;AAC1B,CAEA,GAAMK,WAAU,CAAGC,MAAM,CAACC,UAAU,CAAC,UAAM,CAAE;AACzCV,iBAAiB,CAACM,KAAK,CAAC,CAAC;AAC7B,CAAC,CAAE,IAAI,CAAC,CAERF,UAAU,CAACI,UAAU,CAAC,CAAC;AAC3B,CAEJ,CAAC,CAMD,mBACI,KAAC,cAAc,gBAAC,YAAY,CAAEH,oBAAqB,EAAKJ,SAAS,EAAG,CAE5E,CAAC,CAED,cAAeH,oBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}