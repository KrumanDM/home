{"ast":null,"code":"import _slicedToArray from\"C:/Users/User/Documents/home/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import s2 from'../../s1-main/App.module.css';import s from'./HW13.module.css';import SuperButton from'../hw04/common/c2-SuperButton/SuperButton';import axios from'axios';import success200 from'./images/200.svg';import error400 from'./images/400.svg';import error500 from'./images/500.svg';import errorUnknown from'./images/error.svg';/*\n* 1 - дописать функцию send\n* 2 - дизэйблить кнопки пока идёт запрос\n* 3 - сделать стили в соответствии с дизайном\n* */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HW13=function HW13(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),code=_useState2[0],setCode=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),info=_useState6[0],setInfo=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=useState('initial'),_useState10=_slicedToArray(_useState9,2),disabledButton=_useState10[0],setDisabledButton=_useState10[1];var send=function send(x){return function(){var url=x===null?'https://xxxxxx.ccc'// имитация запроса на не корректный адрес\n:'https://samurai.it-incubator.io/api/3.0/homework/test';setCode('');setImage('');setText('');setInfo('...loading');setDisabledButton(x);axios.post(url,{success:x}).then(function(res){setCode('Код 200!');setImage(success200);// дописать\nsetText('...всё ок код 200 - обычно означает что скорее всего всё ок)');setInfo('');setDisabledButton('initial');}).catch(function(e){// дописать\nconsole.log(e);// setCode('Ошибка 400!')\n// setImage(error400)\n// setText('Ты не отправил success в body вообще! ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!')\n// setInfo('')\nswitch(true){case e.response&&e.response.status===400:setCode('Ошибка 500!');setImage(error500);setText('эмитация ошибки на сервере ошибка 500 - обычно означает что что-то сломалось на сервере, например база данных)');setInfo('');setDisabledButton('initial');break;case e.response&&e.response.status===500:setCode('Ошибка 400!');setImage(error400);setText('Ты не отправил success в body вообще! ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!');setInfo('');setDisabledButton('initial');break;default:setCode('Error!');setImage(errorUnknown);setText(\"Network Error AxiosError\");setInfo('');setDisabledButton('initial');}});};};return/*#__PURE__*/_jsxs(\"div\",{id:'hw13',children:[/*#__PURE__*/_jsx(\"div\",{className:s2.hwTitle,children:\"Homework #13\"}),/*#__PURE__*/_jsxs(\"div\",{className:s2.hw,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.buttonsContainer,children:[/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-true',onClick:send(true),xType:'secondary'// дописать\n,disabled:disabledButton===true,children:\"Send true\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-false',onClick:send(false),xType:'secondary',disabled:disabledButton===false,children:\"Send false\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-undefined',onClick:send(undefined),xType:'secondary'// дописать\n,disabled:disabledButton===undefined,children:\"Send undefined\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-null',onClick:send(null)// имитация запроса на не корректный адрес\n,xType:'secondary'// дописать\n,disabled:disabledButton===null,children:\"Send null\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.responseContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:s.imageContainer,children:image&&/*#__PURE__*/_jsx(\"img\",{src:image,className:s.image,alt:\"status\"})}),/*#__PURE__*/_jsxs(\"div\",{className:s.textContainer,children:[/*#__PURE__*/_jsx(\"div\",{id:'hw13-code',className:s.code,children:code}),/*#__PURE__*/_jsx(\"div\",{id:'hw13-text',className:s.text,children:text}),/*#__PURE__*/_jsx(\"div\",{id:'hw13-info',className:s.info,children:info})]})]})]})]});};export default HW13;","map":{"version":3,"names":["React","useState","s2","s","SuperButton","axios","success200","error400","error500","errorUnknown","HW13","code","setCode","text","setText","info","setInfo","image","setImage","disabledButton","setDisabledButton","send","x","url","post","success","then","res","catch","e","console","log","response","status","hwTitle","hw","buttonsContainer","undefined","responseContainer","imageContainer","textContainer"],"sources":["C:/Users/User/Documents/home/src/s2-homeworks/hw13/HW13.tsx"],"sourcesContent":["import React, {useState} from 'react'\nimport s2 from '../../s1-main/App.module.css'\nimport s from './HW13.module.css'\nimport SuperButton from '../hw04/common/c2-SuperButton/SuperButton'\nimport axios from 'axios'\nimport success200 from './images/200.svg'\nimport error400 from './images/400.svg'\nimport error500 from './images/500.svg'\nimport errorUnknown from './images/error.svg'\n\n/*\n* 1 - дописать функцию send\n* 2 - дизэйблить кнопки пока идёт запрос\n* 3 - сделать стили в соответствии с дизайном\n* */\n\nconst HW13 = () => {\n    const [code, setCode] = useState('')\n    const [text, setText] = useState('')\n    const [info, setInfo] = useState('')\n    const [image, setImage] = useState('')\n    const [disabledButton, setDisabledButton] = useState<boolean | null | undefined | string>('initial');\n\n    const send = (x?: boolean | null) => () => {\n        \n        const url =\n            x === null\n                ? 'https://xxxxxx.ccc' // имитация запроса на не корректный адрес\n                : 'https://samurai.it-incubator.io/api/3.0/homework/test'\n\n        setCode('')\n        setImage('')\n        setText('')\n        setInfo('...loading')\n        setDisabledButton(x);\n\n        axios\n            .post(url, {success: x})\n            .then((res) => {\n                \n                setCode('Код 200!')\n                setImage(success200)\n                // дописать\n                setText('...всё ок код 200 - обычно означает что скорее всего всё ок)')\n                setInfo('')\n                setDisabledButton('initial');\n            })\n            .catch((e) => {\n                // дописать\n                console.log(e)\n                \n                // setCode('Ошибка 400!')\n                // setImage(error400)\n                // setText('Ты не отправил success в body вообще! ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!')\n                // setInfo('')\n\n                switch(true) {\n                    case (e.response && e.response.status === 400):  \n                      setCode('Ошибка 500!')\n                      setImage(error500)\n                      setText('эмитация ошибки на сервере ошибка 500 - обычно означает что что-то сломалось на сервере, например база данных)')\n                      setInfo('');\n                      setDisabledButton('initial');\n                      break;\n                  \n                    \n                    case (e.response && e.response.status === 500): \n                      setCode('Ошибка 400!')\n                      setImage(error400)\n                      setText('Ты не отправил success в body вообще! ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!')\n                      setInfo('');\n                      setDisabledButton('initial');\n                      break;\n                    \n                    default:\n                        setCode('Error!')\n                        setImage(errorUnknown)\n                        setText(\"Network Error AxiosError\")\n                        setInfo('')\n                        setDisabledButton('initial');\n                        \n                  }\n            })\n            \n    }\n\n    return (\n        <div id={'hw13'}>\n            <div className={s2.hwTitle}>Homework #13</div>\n\n            <div className={s2.hw}>\n                <div className={s.buttonsContainer}>\n                    <SuperButton\n                        id={'hw13-send-true'}\n                        onClick={send(true)}\n                        xType={'secondary'}\n                        // дописать\n                        disabled={disabledButton === true}\n                    >\n                        Send true\n                    </SuperButton>\n                    <SuperButton\n                        id={'hw13-send-false'}\n                        onClick={send(false)}\n                        xType={'secondary'}\n                        disabled={disabledButton === false}\n\n                    >\n                        Send false\n                    </SuperButton>\n                    <SuperButton\n                        id={'hw13-send-undefined'}\n                        onClick={send(undefined)}\n                        xType={'secondary'}\n                        // дописать\n                        disabled={disabledButton === undefined}\n                    >\n                        Send undefined\n                    </SuperButton>\n                    <SuperButton\n                        id={'hw13-send-null'}\n                        onClick={send(null)} // имитация запроса на не корректный адрес\n                        xType={'secondary'}\n                        // дописать\n                        disabled={disabledButton === null}\n                    >\n                        Send null\n                    </SuperButton>\n                </div>\n\n                <div className={s.responseContainer}>\n                    <div className={s.imageContainer}>\n                        {image && <img src={image} className={s.image} alt=\"status\"/>}\n                    </div>\n\n                    <div className={s.textContainer}>\n                        <div id={'hw13-code'} className={s.code}>\n                            {code}\n                        </div>\n                        <div id={'hw13-text'} className={s.text}>\n                            {text}\n                        </div>\n                        <div id={'hw13-info'} className={s.info}>\n                            {info}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HW13\n\n\n\n\n  \n\n \n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}