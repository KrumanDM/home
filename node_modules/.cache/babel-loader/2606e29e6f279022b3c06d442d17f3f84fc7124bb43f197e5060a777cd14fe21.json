{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\home\\\\src\\\\s2-homeworks\\\\hw14\\\\HW14.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport s2 from '../../s1-main/App.module.css';\nimport s from './HW14.module.css';\nimport axios from 'axios';\nimport SuperDebouncedInput from './common/c8-SuperDebouncedInput/SuperDebouncedInput';\nimport { useSearchParams } from 'react-router-dom';\n\n/*\n* 1 - дописать функцию onChangeTextCallback в SuperDebouncedInput\n* 2 - дописать функцию sendQuery в HW14\n* 3 - дописать функцию onChangeText в HW14\n* 4 - сделать стили в соответствии с дизайном\n* 5 - добавить HW14 в HW5/pages/JuniorPlus\n* */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst getTechs = find => {\n  return axios.get('https://incubator-personal-page-back.herokuapp.com/api/3.0/homework/test2', {\n    params: {\n      find\n    }\n  }).catch(e => {\n    var _e$response, _e$response$data;\n    alert(((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.errorText) || e.message);\n  });\n};\nconst HW14 = () => {\n  _s();\n  const [find, setFind] = useState('');\n  const [isLoading, setLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [techs, setTechs] = useState([]);\n  const sendQuery = value => {\n    setLoading(true);\n    getTechs(value).then(res =>\n    // делает студент\n    // делает студент\n    setTechs(res));\n  };\n  const onChangeText = value => {\n    setFind(value);\n    // делает студент\n\n    // добавить/заменить значение в квери урла\n    // setSearchParams(\n\n    //\n  };\n\n  useEffect(() => {\n    const params = Object.fromEntries(searchParams);\n    sendQuery(params.find || '');\n    setFind(params.find || '');\n  }, []);\n  const mappedTechs = techs.map(t => /*#__PURE__*/_jsxDEV(\"div\", {\n    id: 'hw14-tech-' + t,\n    className: s.tech,\n    children: t\n  }, t, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: 'hw14',\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: s2.hwTitle,\n      children: \"Homework #14\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s2.hw,\n      children: [/*#__PURE__*/_jsxDEV(SuperDebouncedInput, {\n        id: 'hw14-super-debounced-input',\n        value: find,\n        onChangeText: onChangeText,\n        onDebouncedChange: sendQuery\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: 'hw14-loading',\n        className: s.loading,\n        children: isLoading ? '...ищем' : /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), mappedTechs]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n_s(HW14, \"PE9uiVYCnOiywJyKF3Cbz1UuiI0=\", false, function () {\n  return [useSearchParams];\n});\n_c = HW14;\nexport default HW14;\nvar _c;\n$RefreshReg$(_c, \"HW14\");","map":{"version":3,"names":["React","useEffect","useState","s2","s","axios","SuperDebouncedInput","useSearchParams","getTechs","find","get","params","catch","e","alert","response","data","errorText","message","HW14","setFind","isLoading","setLoading","searchParams","setSearchParams","techs","setTechs","sendQuery","value","then","res","onChangeText","Object","fromEntries","mappedTechs","map","t","tech","hwTitle","hw","loading"],"sources":["C:/Users/User/Documents/home/src/s2-homeworks/hw14/HW14.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport s2 from '../../s1-main/App.module.css'\nimport s from './HW14.module.css'\nimport axios from 'axios'\nimport SuperDebouncedInput from './common/c8-SuperDebouncedInput/SuperDebouncedInput'\nimport {useSearchParams} from 'react-router-dom'\n\n/*\n* 1 - дописать функцию onChangeTextCallback в SuperDebouncedInput\n* 2 - дописать функцию sendQuery в HW14\n* 3 - дописать функцию onChangeText в HW14\n* 4 - сделать стили в соответствии с дизайном\n* 5 - добавить HW14 в HW5/pages/JuniorPlus\n* */\n\nconst getTechs = (find: string) => {\n    return axios\n        .get<{ techs: string[] }>(\n            'https://incubator-personal-page-back.herokuapp.com/api/3.0/homework/test2',\n            {params: {find}}\n        )\n        .catch((e) => {\n            alert(e.response?.data?.errorText || e.message)\n        })\n}\n\nconst HW14 = () => {\n    const [find, setFind] = useState('')\n    const [isLoading, setLoading] = useState(false)\n    const [searchParams, setSearchParams] = useSearchParams()\n    const [techs, setTechs] = useState<string[]>([])\n\n    const sendQuery = (value: string) => {\n        setLoading(true)\n        getTechs(value)\n            .then((res) => // делает студент\n            // делает студент\n            setTechs(res))\n    }\n\n    const onChangeText = (value: string) => {\n        setFind(value)\n        // делает студент\n\n        // добавить/заменить значение в квери урла\n        // setSearchParams(\n\n        //\n    }\n\n    useEffect(() => {\n        const params = Object.fromEntries(searchParams)\n        sendQuery(params.find || '')\n        setFind(params.find || '')\n    }, [])\n\n    const mappedTechs = techs.map(t => (\n        <div key={t} id={'hw14-tech-' + t} className={s.tech}>\n            {t}\n        </div>\n    ))\n\n    return (\n        <div id={'hw14'}>\n            <div className={s2.hwTitle}>Homework #14</div>\n\n            <div className={s2.hw}>\n                <SuperDebouncedInput\n                    id={'hw14-super-debounced-input'}\n                    value={find}\n                    onChangeText={onChangeText}\n                    onDebouncedChange={sendQuery}\n                />\n\n                <div id={'hw14-loading'} className={s.loading}>\n                    {isLoading ? '...ищем' : <br/>}\n                </div>\n\n                {mappedTechs}\n            </div>\n        </div>\n    )\n}\n\nexport default HW14\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}